import './polyfills.server.mjs';
import{C as I,G as _,J as O,K as P,a as p,b as c,c as m,d as x,e as n,f as g,g as w,h as i,i as a,j as l,k as s,l as u,m as d,n as h,u as b,w as y,x as f,y as M,z as S}from"./chunk-MN3O7QIT.mjs";var D=(()=>{class r{constructor(){this.title="weather-user-app"}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=m({type:r,selectors:[["app-root"]],standalone:!0,features:[h],decls:1,vars:0,template:function(t,o){t&1&&l(0,"router-outlet")},dependencies:[P,_],styles:[".app-container[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#e0f7fa;min-height:100vh}h1[_ngcontent-%COMP%]{font-size:2em;color:#00796b;margin-bottom:20px}"]})}}return r})();var U=(()=>{class r{constructor(e){this.http=e,this.apiUrl="https://randomuser.me/api/"}getUser(){return this.http.get(this.apiUrl)}static{this.\u0275fac=function(t){return new(t||r)(c(f))}}static{this.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var E=(()=>{class r{constructor(e){this.http=e,this.weatherUrl="https://api.open-meteo.com/v1/forecast"}getWeather(e,t){let o=`${this.weatherUrl}?latitude=${e}&longitude=${t}&current_weather=true&hourly=temperature_2m`;return this.http.get(o)}getWeatherDescription(e){switch(e){case 0:return"\u0421\u043E\u043D\u044F\u0447\u043D\u043E";case 1:return"\u041F\u0435\u0440\u0435\u0432\u0430\u0436\u043D\u043E \u044F\u0441\u043D\u043E";case 2:return"\u0425\u043C\u0430\u0440\u043D\u043E";case 3:return"\u041F\u043E\u0445\u043C\u0443\u0440\u043E";default:return"\u041D\u0435\u0432\u0456\u0434\u043E\u043C\u0438\u0439 \u0441\u0442\u0430\u043D"}}getWeatherIcon(e){switch(e){case 0:return"\u2600\uFE0F";case 1:return"\u{1F324}\uFE0F";case 2:return"\u2601\uFE0F";case 3:return"\u{1F327}\uFE0F";default:return"\u2753"}}getDailyWeather(e,t){let o=`${this.weatherUrl}?latitude=${e}&longitude=${t}&current_weather=true&hourly=temperature_2m`;return this.http.get(o)}static{this.\u0275fac=function(t){return new(t||r)(c(f))}}static{this.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var W=(()=>{class r{constructor(e,t){this.userService=e,this.weatherService=t,this.highTemp=null,this.lowTemp=null}ngOnInit(){this.userService.getUser().subscribe(e=>{this.user=e.results[0],this.loadWeather(this.user.location.coordinates.latitude,this.user.location.coordinates.longitude),this.loadDailyWeather(this.user.location.coordinates.latitude,this.user.location.coordinates.longitude)})}loadWeather(e,t){this.weatherService.getWeather(e,t).subscribe(o=>{this.weather=o.current_weather})}loadDailyWeather(e,t){this.weatherService.getDailyWeather(e,t).subscribe(o=>{let v=o.hourly.temperature_2m;this.highTemp=Math.max(...v),this.lowTemp=Math.min(...v)})}static{this.\u0275fac=function(t){return new(t||r)(g(U),g(E))}}static{this.\u0275cmp=m({type:r,selectors:[["app-user-card"]],standalone:!0,features:[h],decls:19,vars:11,consts:[[1,"user-card"],["alt","User Picture",3,"src"],[1,"weather-section"]],template:function(t,o){t&1&&(i(0,"div",0),l(1,"img",1),i(2,"h2"),s(3),a(),i(4,"p"),s(5),a(),i(6,"p"),s(7),a(),i(8,"p"),s(9),a(),i(10,"div",2)(11,"h3"),s(12,"\u041F\u043E\u0433\u043E\u0434\u0430:"),a(),i(13,"p"),s(14),a(),i(15,"p"),s(16),a(),i(17,"p"),s(18),a()()()),t&2&&(n(),w("src",o.user.picture.large,x),n(2),d("",o.user.name.first," ",o.user.name.last,""),n(2),u("\u0421\u0442\u0430\u0442\u044C: ",o.user.gender,""),n(2),d("\u041C\u0456\u0441\u0446\u0435 \u0440\u043E\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043D\u043D\u044F: ",o.user.location.city,", ",o.user.location.country,""),n(2),u("Email: ",o.user.email,""),n(5),u("\u0421\u0442\u0430\u043D: ",o.weather.weather_code,""),n(2),u("\u0422\u0435\u043C\u043F\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",o.weather.temperature,"\xB0C"),n(2),d("\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C: ",o.highTemp,"\xB0C, \u041C\u0456\u043D\u0456\u043C\u0443\u043C: ",o.lowTemp,"\xB0C"))},dependencies:[y],styles:[".user-card[_ngcontent-%COMP%]{max-width:400px;padding:20px;margin:20px auto;border-radius:8px;background-color:#f7f9fc;box-shadow:0 4px 8px #0000001a}.user-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;color:#333;margin-bottom:10px}.user-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin-bottom:5px}.user-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:5px 0}.user-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;margin-bottom:10px}.weather-section[_ngcontent-%COMP%]{margin-top:20px;padding-top:10px;border-top:1px solid #ddd}.weather-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#333}"]})}}return r})();var F=[{path:"",component:W}];var j={providers:[O(F),S()]};var $={providers:[I()]},T=b(j,$);var k=()=>M(D,T),ne=k;export{ne as a};
